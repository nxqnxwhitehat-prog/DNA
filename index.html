<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù…Ø¹ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #e0f7fa;
      direction: rtl;
      text-align: right;
    }

    /* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    .navbar {
      position: fixed;
      top: 0;
      right: 0;
      width: 100%;
      background-color: #007bff;
      display: flex;
      justify-content: flex-start;
      flex-direction: row-reverse;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      z-index: 1000;
    }

    .navbar button {
      background-color: white;
      color: #007bff;
      border: none;
      padding: 10px 20px;
      margin-left: 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.3s;
    }

    .navbar button.active {
      background-color: #003f7f;
      color: white;
      font-weight: bold;
      box-shadow: 0 0 8px rgba(0,0,0,0.3);
    }

    .navbar button:hover {
      background-color: #0056b3;
      color: white;
    }

    .fixed-image {
      position: fixed;
      top: 70px;
      left: 10px;
      width: 120px;
      z-index: 999;
      border-radius: 10px;
    }

    .content {
      padding: 100px 20px;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    form, .rules-box {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 450px;
      margin: auto;
    }

    input, select, button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    .user-list {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      margin-top: 20px;
      max-width: 500px;
      margin-right: auto;
      margin-left: auto;
    }

    .rules-box ul {
      padding-right: 20px;
    }

    .hidden {
      display: none;
    }

    /* âœ… ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */
    .chat-box {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      max-width: 500px;
      margin: auto;
      display: flex;
      flex-direction: column;
      height: 400px;
    }

    .messages {
      flex: 1;
      overflow-y: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 10px;
      background-color: #f9f9f9;
    }

    .message {
      background: #d0ebff;
      padding: 8px 10px;
      border-radius: 8px;
      margin: 5px 0;
    }

    .message strong {
      color: #0056b3;
    }
  </style>
</head>
<body>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
  <div class="navbar">
    <button onclick="showSection('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button onclick="showSection('about')">Ø­ÙˆÙ„</button>
    <button onclick="showSection('dna')">DNA</button>
    <button onclick="showSection('users')">Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</button>
    <button id="chatBtn" class="hidden" onclick="showSection('chat')">Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</button>
  </div>

  <img src="DNA.png" alt="DNA" class="fixed-image">

  <div class="content">
    <div id="home" class="section active">
      <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h1>
      <p>Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø®ØµØµ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙˆØ§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ù„Ù„ØªØµÙˆÙŠØª ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>
    </div>

    <div id="about" class="section">
      <h1>Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹</h1>
      <p>Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø®Ø§Øµ Ø¨Ø´Ø±Ø­ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡.</p>
    </div>

    <div id="dna" class="section">
      <h1>Ø§Ù„ØªØµÙˆÙŠØª ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„</h1>

      <div id="rulesBox" class="rules-box">
        <h3>ğŸ“œ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ§Ù„Ø´Ø±ÙˆØ·</h3>
        <ul>
          <li>ÙŠØ¬Ø¨ Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ¹Ø¯Ù… Ù†Ø´Ø± Ù…Ø­ØªÙˆÙ‰ Ù…Ø®Ø§Ù„Ù.</li>
          <li>Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¹ÙŠÙŠÙ† Ø£ÙƒØ«Ø± Ù…Ù† ÙˆÙƒÙŠÙ„ ÙˆØ§Ø­Ø¯ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù….</li>
          <li>ÙŠÙÙ…Ù†Ø¹ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø£Ø³Ù…Ø§Ø¡ ÙˆÙ‡Ù…ÙŠØ©.</li>
          <li>ÙƒÙ„ Ø¹Ø¶Ùˆ Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ØªØµØ±ÙØ§ØªÙ‡ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹.</li>
        </ul>
        <button onclick="agreeRules()">Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ£ÙƒÙ…Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</button>
      </div>

      <form id="voteForm" class="hidden">
        <label>Ø§Ù„Ø§Ø³Ù…:</label>
        <input type="text" id="name" required>

        <label>Ø§Ù„Ø¹Ù…Ø±:</label>
        <input type="number" id="age" required>

        <label>Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ØªÙƒÙˆÙ†ØŸ</label>
        <select id="role" required>
          <option value="">Ø§Ø®ØªØ±...</option>
          <option value="ÙˆÙƒÙŠÙ„">ÙˆÙƒÙŠÙ„</option>
          <option value="Ø¹Ø¶Ùˆ">Ø¹Ø¶Ùˆ</option>
        </select>

        <button type="submit">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØµÙˆÙŠØª</button>
      </form>
    </div>

    <div id="users" class="section">
      <h1>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</h1>
      <div id="userList" class="user-list"></div>
    </div>

    <!-- âœ… Ù‚Ø³Ù… Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© -->
    <div id="chat" class="section">
      <h1>ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</h1>
      <div class="chat-box">
        <div id="messages" class="messages"></div>
        <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." onkeydown="if(event.key==='Enter') sendMessage()">
        <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
      </div>
    </div>
  </div>

  <script>
    let users = JSON.parse(localStorage.getItem('users')) || [];
    let messages = JSON.parse(localStorage.getItem('messages')) || [];
    let currentUser = null;
    let rulesAccepted = false;

    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(sectionId).classList.add('active');

      document.querySelectorAll('.navbar button').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      if (sectionId === 'users') showUsers();
      if (sectionId === 'chat') renderMessages();
    }

    function agreeRules() {
      rulesAccepted = true;
      document.getElementById('rulesBox').classList.add('hidden');
      document.getElementById('voteForm').classList.remove('hidden');
    }

    document.getElementById('voteForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const age = document.getElementById('age').value;
      const role = document.getElementById('role').value;

      if (!rulesAccepted) {
        alert("ÙŠØ¬Ø¨ Ø£ÙˆÙ„Ù‹Ø§ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯.");
        return;
      }

      if (role === "ÙˆÙƒÙŠÙ„") {
        const agentExists = users.some(u => u.role === "ÙˆÙƒÙŠÙ„");
        if (agentExists) {
          alert("âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ³Ø¬ÙŠÙ„ Ø£ÙƒØ«Ø± Ù…Ù† ÙˆÙƒÙŠÙ„ ÙˆØ§Ø­Ø¯!");
          return;
        }
      }

      currentUser = { name, age, role };
      users.push(currentUser);
      localStorage.setItem('users', JSON.stringify(users));

      alert("âœ… ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©.");
      document.getElementById('chatBtn').classList.remove('hidden');
      this.reset();
    });

    function showUsers() {
      const list = document.getElementById('userList');
      if (users.length === 0) {
        list.innerHTML = "<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¨Ø¹Ø¯.</p>";
        return;
      }
      list.innerHTML = users.map(u =>
        `<p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${u.name} | <strong>Ø§Ù„Ø¹Ù…Ø±:</strong> ${u.age} | <strong>Ø§Ù„Ø¯ÙˆØ±:</strong> ${u.role}</p>`
      ).join('');
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const text = input.value.trim();
      if (text === '' || !currentUser) return;

      const msg = { user: currentUser.name, text };
      messages.push(msg);
      localStorage.setItem('messages', JSON.stringify(messages));
      input.value = '';
      renderMessages();
    }

    function renderMessages() {
      const msgBox = document.getElementById('messages');
      msgBox.innerHTML = messages.map(m => `<div class="message"><strong>${m.user}:</strong> ${m.text}</div>`).join('');
      msgBox.scrollTop = msgBox.scrollHeight;
    }
  </script>

</body>
</html>
